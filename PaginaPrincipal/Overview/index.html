<!doctype html>
<html lang="pt-BR">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Overview - MVP</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <header>
            <div class="brand">
                <div class="logo">OV</div>
                <div>
                    <h1>Overview do Colaborador</h1>
                    <p class="sub">Resumo rápido das suas tarefas, atualizações e feedbacks</p>
                </div>
            </div>
            <div style="text-align:right">
                <div class="pill">Olá, Pedro</div>
            </div>
        </header>

        <!-- Metrics -->
        <section class="metrics" aria-label="Métricas principais">
            <div class="card">
                <div class="metric-value" id="pct-completed">--%</div>
                <div class="metric-label">% tarefas concluídas (mês)</div>
                <div class="delta" id="pct-completed-delta">&nbsp;</div>
            </div>

            <div class="card">
                <div class="metric-value" id="avg-time">-- dias</div>
                <div class="metric-label">Tempo médio de conclusão</div>
                <div class="delta" id="avg-time-delta">&nbsp;</div>
            </div>

            <div class="card">
                <div class="metric-value" id="approval-rate">--%</div>
                <div class="metric-label">Taxa de aprovação</div>
                <div class="delta" id="approval-delta">&nbsp;</div>
            </div>

            <div class="card">
                <div class="metric-value" id="due-today">0</div>
                <div class="metric-label">Tarefas com prazo hoje</div>
                <div class="delta" id="due-delta">&nbsp;</div>
            </div>
        </section>

        <main>
            <section>
                <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:8px">
                    <h2 style="margin:0;font-size:16px">Novidades / Atualizações</h2>
                    <div style="display:flex;gap:8px;align-items:center">
                        <select id="feed-filter" class="pill" aria-label="Filtro do feed">
                            <option value="all">Tudo</option>
                            <option value="my">Minhas tarefas</option>
                            <option value="action">Ação necessária</option>
                        </select>
                        <button id="mark-read" class="btn">Marcar tudo como lido</button>
                    </div>
                </div>

                <div class="feed" id="updates-list" aria-live="polite">
                    <!-- updates injected here -->
                </div>
            </section>

            <aside class="right-col">
                <div class="mini">
                    <div style="display:flex;justify-content:space-between;align-items:center">
                        <div>
                            <div class="tiny">Próxima ação</div>
                            <div style="font-weight:700">Revisar implantação lojas</div>
                            <div class="tiny">Prazo: 2025-10-16</div>
                        </div>
                        <div>
                            <button class="primary" id="go-to-next">Ir</button>
                        </div>
                    </div>
                </div>

                <div>
                    <h3 style="margin:8px 0 6px 0">Últimos feedbacks</h3>
                    <div class="feedback" id="feedback-list">
                        <!-- feedbacks -->
                    </div>
                </div>

                <div style="margin-top:6px">
                    <h3 style="margin:8px 0 6px 0">Atalhos</h3>
                    <div style="display:flex;gap:8px">
                        <button class="btn" id="create-task">Criar tarefa</button>
                        <button class="btn" id="request-review">Pedir revisão</button>
                    </div>
                </div>
            </aside>
        </main>

        <footer>
            <small>Este é um MVP demonstrativo — os dados são mockados. Use os botões para testar interações.</small>
        </footer>
    </div>

    <!-- Task panel (simulated navigation target) -->
    <div id="task-panel" role="dialog" aria-modal="false">
        <h3>Tarefa</h3>
        <div id="task-details">Carregando...</div>
        <div style="margin-top:10px;text-align:right">
            <button class="btn" id="close-task">Fechar</button>
        </div>
    </div>

    <!-- Comment modal -->
    <div class="modal-backdrop" id="modal-backdrop" role="dialog" aria-modal="true">
        <div class="modal" role="document" aria-labelledby="modal-title">
            <h2 id="modal-title">Comentários</h2>
            <div id="modal-update-info" class="tiny">—</div>

            <div class="comments" id="modal-comments">
                <!-- comments -->
            </div>

            <div style="display:flex;gap:8px;margin-top:12px">
                <input id="comment-input" placeholder="Adicionar comentário..."
                    style="flex:1;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:inherit" />
                <button class="primary" id="send-comment">Enviar</button>
                <button class="btn" id="close-modal">Fechar</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>